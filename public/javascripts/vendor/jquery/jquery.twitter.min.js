/*! jQuery Twitter Plugin - v0.2.1 - 2012-05-17
* https://github.com/boazsender/jQuery-Twitter-Plugin
* Copyright (c) 2012 Boaz Sender; Licensed MIT, GPL */
var linkify=linkify||function(){};(function(a,b){var c=function(a){return a.replace(/[@]+[a-z0\-9-_]+/ig,function(a){return a.link("http://twitter.com/"+a.replace("@",""))})},d=function(a){return a.replace(/[#]+[a-z0\-9-_]+/ig,function(a){return a.link("http://search.twitter.com/search?q="+a.replace("#","%23"))})};a.twitter=function(b,c){if(!b)return!1;var d,e="",f=new RegExp(!1);typeof b=="string"?d=a.extend({},a.twitter.opts,{q:b}):(b.rpp=b.limit?b.limit:b.rpp,b.limit=b.limit?b.limit:b.rpp,e=b.exclusions?b.exclusions.replace(" ","|"):!1,f=e?new RegExp(e):!1,d=a.extend({},a.twitter.opts,b),d.rpp=d.exclusions||!d.replies||!d.retweets?d.rpp*10:d.rpp),a.getJSON("http://search.twitter.com/search.json?callback=?",d,function(a){c(a,d,f)})},a.fn.twitter=function(e,f){return e?this.each(function(){var g=a(this);a.twitter(e,function(e,h,i){var j=a("<ul>"),k=0,l;if(e.results&&e.results.length){for(l in e.results){var m=e.results[l],n=!h.replies&&m.to_user_id?!1:!0,o=!h.retweets&&m.text.slice(0,2)==="RT"?!1:!0;if(!n)continue;if(!o)continue;if(i&&i.test(m.text))continue;var p=a("<li/>",{"class":"tweet"});h.avatar===!0&&p.append(a("<a/>",{href:"http://twitter.com/"+m.from_user,html:"<img src='"+m.profile_image_url+"'/>"})),p.append(a("<span>",{"class":"content",html:"<a href='http://twitter.com/"+m.from_user+"'>@"+m.from_user+"</a>: "+c(d(b(m.text)))})).appendTo(j),k++;if(k===h.limit)break}g.html(j),f&&f(!0)}else g.html(a("<h3/>",{"class":"twitter-notFound",text:h.notFoundText})),f&&f(!1)})}):this},a.twitter.opts={limit:7,exclusions:"",notFoundText:"No results found on twitter",replies:!0,retweets:!0,ands:"",phrase:"",ors:"",nots:"",tag:"",lang:"",from:"",to:"",ref:"",near:"",within:"",units:"",since:"",until:"",tude:"",filter:"",include:"",rpp:5,q:"",avatar:!0}})(jQuery,linkify);